<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chosen Palette: Winter Warmth -->
    <!-- Application Structure Plan: 본 애플리케이션은 사용자가 긴 보고서를 순차적으로 읽는 대신, 필요한 정보에 즉시 접근할 수 있도록 설계되었습니다. '여행 준비', '상세 일정', '교통 가이드', '예상 경비'의 4개 핵심 탭으로 정보를 재구성하여 비선형적 탐색을 유도합니다. 이 구조는 여행 계획 단계별로 사용자가 궁금해하는 정보(날씨, 옷차림 -> 일별 동선 -> 교통편 -> 예산)에 맞춰져 있어, 정보 탐색의 효율성을 극대화하고 사용자가 자신의 페이스에 맞춰 여행을 계획하도록 돕습니다. -->
    <!-- Visualization & Content Choices: 보고서의 정적인 텍스트와 표를 동적인 인터페이스로 변환했습니다. Goal: 비교 -> Viz: Chart.js 막대/도넛 차트 (날씨, 예산) / Interaction: 툴팁, 실시간 업데이트 / Justification: 시각적 데이터 비교는 표보다 직관적입니다. Goal: 탐색 -> Viz: 탭과 아코디언 형태의 일정 (HTML/JS) / Interaction: 클릭 시 상세 정보 표시 / Justification: 방대한 일정 정보를 단계적으로 보여주어 정보 과부하를 방지합니다. Goal: 계획 -> Viz: HTML 슬라이더 / Interaction: 슬라이더 조작 시 예산 차트와 총액 실시간 변경 / Justification: 사용자가 직접 예산을 시뮬레이션하며 개인화된 계획을 세울 수 있도록 합니다. 이 모든 요소는 SVG/Mermaid 없이 Canvas와 HTML/CSS/JS로 구현되었습니다. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <title>1월 런던 & 파리 7일 인터랙티브 여행 플래너</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FDFBF8; /* Warm Neutral Background */
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }
        .nav-button.active {
            border-bottom-color: #C05621; /* Warm Accent */
            color: #2D3748;
        }
        .nav-button:hover {
            background-color: #F7FAFC;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .day-tab {
            cursor: pointer;
            padding: 0.75rem 1.25rem;
            border-radius: 9999px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .day-tab.active {
            background-color: #C05621;
            color: white;
        }
        .day-tab:not(.active):hover {
            background-color: #EDF2F7;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #C05621;
            cursor: pointer;
            border-radius: 50%;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #C05621;
            cursor: pointer;
            border-radius: 50%;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">1월의 런던(4일) & 파리(3일)</h1>
            <p class="text-xl text-gray-600">나만의 7일 여정 플래너</p>
        </header>

        <nav class="flex justify-center border-b-2 border-gray-200 mb-8">
            <button class="nav-button active text-gray-500 py-4 px-6 block hover:text-gray-900 focus:outline-none font-medium" data-target="prep">
                여행 준비
            </button>
            <button class="nav-button text-gray-500 py-4 px-6 block hover:text-gray-900 focus:outline-none font-medium" data-target="itinerary">
                상세 일정
            </button>
            <button class="nav-button text-gray-500 py-4 px-6 block hover:text-gray-900 focus:outline-none font-medium" data-target="transport">
                교통 가이드
            </button>
            <button class="nav-button text-gray-500 py-4 px-6 block hover:text-gray-900 focus:outline-none font-medium" data-target="budget">
                예상 경비
            </button>
        </nav>

        <main>
            <section id="prep" class="content-section active">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">1월 여행, 미리 알고 준비하기</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto">1월의 런던과 파리는 매력적이지만, 날씨와 환경에 대한 이해가 필수입니다. 성공적인 여행을 위해 날씨, 옷차림, 그리고 현지 유의사항을 확인하세요.</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 mb-12">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4 text-center">런던 vs 파리: 1월 날씨 비교</h3>
                        <div class="chart-container">
                            <canvas id="weatherChart"></canvas>
                        </div>
                        <p class="text-sm text-gray-500 mt-4 text-center">차트의 막대 위에 마우스를 올리면 상세 정보를 볼 수 있습니다.</p>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4 text-center">필수 준비물 & 추천 복장</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><span class="text-xl mr-3 text-amber-600">겹</span><div><strong class="font-bold">겹쳐입기 (레이어드)</strong><p class="text-gray-600 text-sm">실내외 온도차가 크므로 쉽게 입고 벗을 수 있는 옷차림이 중요해요. 히트텍, 스웨터, 경량패딩 조합을 추천합니다.</p></div></li>
                            <li class="flex items-start"><span class="text-xl mr-3 text-amber-600">💧</span><div><strong class="font-bold">방수 기능 외투 & 신발</strong><p class="text-gray-600 text-sm">잦은 비에 대비해 모자 달린 방수 자켓과 방수 기능이 있는 편한 신발은 필수입니다. 젖으면 잘 마르지 않는 청바지는 피하세요.</p></div></li>
                            <li class="flex items-start"><span class="text-xl mr-3 text-amber-600">🧣</span><div><strong class="font-bold">보온 액세서리</strong><p class="text-gray-600 text-sm">목도리, 장갑, 모자는 체온 유지에 큰 도움이 됩니다. 특히 핫팩은 야외 활동 시 유용해요.</p></div></li>
                             <li class="flex items-start"><span class="text-xl mr-3 text-amber-600">🔌</span><div><strong class="font-bold">여행용 어댑터</strong><p class="text-gray-600 text-sm">유럽은 230V 전압과 다른 모양의 콘센트를 사용하니 멀티 어댑터를 꼭 챙기세요.</p></div></li>
                        </ul>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-2">✨ 1월의 특별함</h3>
                        <p class="text-gray-600">성수기의 번잡함 없이 여유롭게 명소를 즐길 수 있습니다. 특히 1월 말까지 이어지는 대규모 겨울 세일은 쇼핑을 위한 최고의 기회입니다!</p>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-2">⏰ 운영시간 주의</h3>
                        <p class="text-gray-600">겨울철에는 상점과 관광지가 오후 5-7시 사이에 일찍 문을 닫는 경우가 많습니다. 방문 전 반드시 운영 시간을 확인하세요.</p>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-2">🛡️ 안전 제일</h3>
                        <p class="text-gray-600">특히 파리에서는 소매치기를 조심해야 합니다. 가방은 항상 몸 앞으로 메고, 귀중품은 숙소에 보관하는 것이 안전합니다.</p>
                    </div>
                </div>
            </section>

            <section id="itinerary" class="content-section">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">7일간의 여정: 런던(4일) & 파리(3일)</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto">겨울의 매력을 만끽할 수 있도록 실내 명소와 야경을 중심으로 구성된 7일 추천 일정입니다. 각 날짜를 클릭하여 상세 계획을 확인해보세요.</p>
                </div>
                <div class="flex flex-wrap justify-center gap-2 mb-8">
                </div>
                <div id="itinerary-details" class="mt-8">
                </div>
            </section>

            <section id="transport" class="content-section">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">스마트한 이동: 교통 완전 정복</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto">런던과 파리의 복잡한 대중교통, 그리고 두 도시를 잇는 유로스타까지. 이 가이드와 함께라면 헤맬 필요 없이 편리하게 이동할 수 있습니다.</p>
                </div>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="card p-6 lg:col-span-1">
                        <h3 class="text-2xl font-bold text-center mb-4">🇬🇧 런던 교통</h3>
                        <p class="text-gray-600 mb-4">런던에서는 '탭' 한 번으로 모든 것이 해결됩니다. 비접촉식 결제 카드 사용을 강력 추천합니다.</p>
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <h4 class="font-bold">💳 비접촉식 결제 (Contactless)</h4>
                            <p class="text-sm text-gray-600">해외결제 가능 신용/체크카드를 단말기에 바로 태그! 오이스터 카드와 동일한 요금 및 일일 상한선(Daily Cap)이 적용되어 가장 편리합니다.</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-bold">🔵 오이스터 카드 (Oyster Card)</h4>
                            <p class="text-sm text-gray-600">충전식 교통카드. 카드 보증금(£7)과 충전, 환불 절차가 필요하지만 비접촉식 카드가 없다면 좋은 대안입니다.</p>
                        </div>
                        <div class="mt-4 text-center bg-amber-100 text-amber-800 p-3 rounded-lg">
                            <p class="font-bold">Tip: 2층 버스 맨 앞자리에 앉아보세요. 저렴한 비용으로 최고의 시티투어를 즐길 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="card p-6 lg:col-span-1">
                        <h3 class="text-2xl font-bold text-center mb-4">🇫🇷 파리 교통</h3>
                        <p class="text-gray-600 mb-4">2025년부터 종이 티켓 판매가 중단됩니다. 여행 스타일에 맞는 '나비고(Navigo)' 카드를 준비하세요.</p>
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <h4 class="font-bold">⚪ 나비고 이지 (Navigo Easy)</h4>
                            <p class="text-sm text-gray-600">카드값 €2. 필요할 때마다 1회권, 1일권 등을 충전해 사용하는 방식. 단기 여행이나 대중교통 이용이 적을 때 유리합니다.</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-bold">🟣 나비고 데쿠베르트 (Navigo Découverte)</h4>
                            <p class="text-sm text-gray-600">카드값 €5 + 증명사진 필요. 월-일 단위의 주간권 충전 가능. 한 주에 3-4일 이상 머물며 교통 이용이 많다면 가장 경제적입니다.</p>
                        </div>
                         <div class="mt-4 text-center bg-red-100 text-red-800 p-3 rounded-lg">
                            <p class="font-bold">중요: 2025년부터 지하철/RER 티켓은 존 구분 없이 파리 근교(베르사유, 디즈니랜드)까지 이용 가능해집니다!</p>
                        </div>
                    </div>
                     <div class="card p-6 lg:col-span-1">
                        <h3 class="text-2xl font-bold text-center mb-4">🚆 런던 ↔ 파리: 유로스타</h3>
                        <p class="text-gray-600 mb-4">두 도시의 중심부를 약 2시간 30분 만에 연결하는 가장 빠르고 편리한 방법입니다.</p>
                        <ul class="space-y-3">
                            <li class="flex items-center"><span class="text-2xl mr-3">🎟️</span><div><strong class="font-semibold">빠른 예약은 필수</strong><p class="text-sm text-gray-600">최소 2-3개월 전 공식 홈페이지에서 예약해야 저렴합니다.</p></div></li>
                            <li class="flex items-center"><span class="text-2xl mr-3">🛂</span><div><strong class="font-semibold">출입국 심사</strong><p class="text-sm text-gray-600">국제선이므로 출발 90분 전까지 역에 도착해 수속을 밟아야 합니다.</p></div></li>
                            <li class="flex items-center"><span class="text-2xl mr-3">💡</span><div><strong class="font-semibold">시간 활용</strong><p class="text-sm text-gray-600">오전 일찍 출발하면 이동 후 오후 시간을 온전히 활용할 수 있습니다.</p></div></li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="budget" class="content-section">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">나만의 여행 예산 설계하기</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto">아래 슬라이더를 조절하여 성인 4명 기준의 예상 경비를 직접 계산해보세요. 각 항목의 비용을 변경하면 총예산과 차트가 실시간으로 업데이트됩니다.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">예산 항목별 비용 조절 (4인 기준)</h3>
                        <div id="budget-sliders" class="space-y-4"></div>
                    </div>
                    <div>
                        <div class="chart-container h-80 md:h-96">
                            <canvas id="budgetChart"></canvas>
                        </div>
                        <div class="text-center mt-4">
                            <p class="text-gray-600">총 예상 경비</p>
                            <p id="total-budget" class="text-4xl font-bold text-gray-900"></p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 pt-8 border-t border-gray-200">
            <p class="text-sm text-gray-500">본 정보는 제공된 여행 보고서를 기반으로 제작되었으며, 최신 정보와 다를 수 있습니다. 방문 전 반드시 공식 홈페이지 등에서 최신 정보를 확인하세요.</p>
        </footer>
    </div>

    <script>
        const weatherData = {
            labels: ['평균 최고기온 (°C)', '평균 최저기온 (°C)', '월평균 강수량 (mm)'],
            london: {
                label: '런던',
                data: [9, 4, 53],
                backgroundColor: 'rgba(217, 119, 6, 0.6)',
            },
            paris: {
                label: '파리',
                data: [7, 2, 42],
                backgroundColor: 'rgba(59, 130, 246, 0.6)',
            }
        };

        const itineraryData = [
            { day: 1, city: '런던', title: '런던 도착 & 웨스트민스터', icon: '🇬🇧', details: [
                { time: '오후', title: '버킹엄 궁전 & 주변 공원', desc: '영국 왕실의 상징인 버킹엄 궁전 외관을 감상하고 세인트 제임스 파크를 산책합니다.'},
                { time: '오후', title: '국회의사당 & 빅벤', desc: '런던의 상징, 빅벤과 국회의사당의 웅장함을 느껴보세요.'},
                { time: '저녁', title: '런던 아이 탑승', desc: '해가 질 무렵 탑승하여 런던의 일몰과 환상적인 야경을 한눈에 담아보세요. (사전 예약 추천)', food: '🍽️ **미식 추천:** 펍(Pub)에 들러 피쉬 앤 칩스와 현지 맥주로 런던의 첫날 밤을 즐겨보세요.'},
            ]},
            { day: 2, city: '런던', title: '문화와 예술의 중심', icon: '🇬🇧', details: [
                { time: '오전', title: '대영 박물관', desc: '세계 3대 박물관 중 하나로, 인류의 역사를 탐험합니다. (무료 입장)'},
                { time: '오후', title: '코벤트 가든 & 내셔널 갤러리', desc: '활기 넘치는 코벤트 가든에서 점심을 먹고, 내셔널 갤러리에서 명화를 감상하세요. (무료 입장)'},
                { time: '저녁', title: '스카이 가든', desc: '런던 시내를 360도로 조망할 수 있는 무료 전망대에서 야경을 감상합니다. (사전 예약 필수)'},
            ]},
            { day: 3, city: '런던', title: '박물관과 쇼핑', icon: '🇬🇧', details: [
                { time: '오전', title: '자연사 박물관', desc: '영화 ‘박물관이 살아있다’의 배경! 거대한 공룡 화석이 압도적입니다. (무료 입장)'},
                { time: '오후', title: '해러즈 백화점 쇼핑', desc: '런던의 상징적인 백화점에서 겨울 세일 기간을 활용해 쇼핑을 즐겨보세요.', food: '🍰 **미식 추천:** 해러즈 백화점 푸드코트에서 애프터눈 티 세트를 경험하거나 다양한 디저트를 맛보세요.'},
                { time: '저녁', title: '소호(Soho) 지역 탐방', desc: '활기찬 소호 지역에서 저녁 식사를 하고 런던의 밤문화를 느껴보세요.'},
            ]},
            { day: 4, city: '런던', title: '역사와 왕실의 흔적', icon: '🇬🇧', details: [
                { time: '오전', title: '타워 오브 런던', desc: '영국의 천년 역사가 담긴 요새에서 왕실 보물(크라운 주얼)을 직접 확인해보세요.'},
                { time: '오후', title: '타워 브릿지 건너기', desc: '타워 브릿지 위를 직접 걸어보고, 유리 바닥 전망대에서 아찔한 경험을 해보세요.'},
                { time: '저녁', title: '웨스트엔드 뮤지컬 관람', desc: '런던에서의 마지막 밤, ‘위키드’, ‘라이온 킹’ 등 명작 뮤지컬과 함께 특별한 추억을 만드세요.'},
            ]},
            { day: 5, city: '파리', title: '파리 이동 & 첫인상', icon: '🇫🇷', details: [
                { time: '오전', title: '유로스타 탑승', desc: '런던 세인트 판크라스 역에서 유로스타를 타고 파리 북역으로 이동합니다.'},
                { time: '오후', title: '에펠탑 & 트로카데로', desc: '파리의 상징 에펠탑을 보고, 에펠탑이 가장 아름답게 보이는 트로카데로 광장에서 인생샷을 남겨보세요.'},
                { time: '저녁', title: '샹젤리제 & 세느강 유람선', desc: '화려한 샹젤리제 거리를 거닐고, 유람선을 타고 반짝이는 파리의 야경을 감상합니다. 정각의 에펠탑 조명쇼는 필수!'},
            ]},
            { day: 6, city: '파리', title: '예술과 역사의 향기', icon: '🇫🇷', details: [
                { time: '오전', title: '루브르 박물관', desc: '‘모나리자’, ‘밀로의 비너스’ 등 수많은 걸작을 소장한 세계 최대 박물관을 탐험합니다.'},
                { time: '오후', title: '오르세 미술관 & 노트르담 대성당', desc: '인상주의 미술의 성지 오르세 미술관을 방문하고, 재개관한 노트르담 대성당의 모습을 확인합니다.'},
                { time: '저녁', title: '몽마르뜨 언덕 & 사크레쾨르', desc: '예술가들의 언덕 몽마르뜨에서 파리의 야경을 감상하고 사크레쾨르 대성당의 낭만을 느껴보세요.', food: '🍽️ **미식 추천:** 몽마르뜨의 작은 비스트로에서 프랑스 가정식 코스 요리인 \'코코뱅(Coq au Vin)\'이나 \'뵈프 부르기뇽(Boeuf Bourguignon)\'을 맛보세요.'},
            ]},
            { day: 7, city: '파리', title: '마레 지구 & 귀국', icon: '✈️', details: [
                { time: '오전', title: '마레 지구 산책 및 쇼핑', desc: '파리에서 가장 힙한 마레 지구의 골목길을 산책하며 개성있는 상점들을 구경하고 마지막 쇼핑을 즐깁니다.', food: '🥐 **미식 추천:** 마레 지구의 유명 베이커리에서 갓 구운 크루아상과 커피로 파리지앵처럼 아침을 시작하거나, 유대인 지구의 명물 \'라즈 뒤 팔라펠(L\\\'As du Fallafel)\'을 맛보는 것도 특별한 경험입니다.'},
                { time: '오후', title: '공항 이동 및 귀국', desc: '아쉬움을 뒤로하고 비행 시간에 맞춰 공항으로 이동하여 귀국 준비를 합니다.'},
            ]},
        ];
        
        const budgetData = [
            { label: '항공권 (4인)', value: 4200000, min: 3200000, max: 6000000, step: 100000 },
            { label: '숙소 (4인, 6박)', value: 900000, min: 600000, max: 1800000, step: 100000 },
            { label: '식비 (4인, 7일)', value: 840000, min: 600000, max: 2000000, step: 50000 },
            { label: '교통비 (4인)', value: 1600000, min: 1200000, max: 2400000, step: 100000 },
            { label: '입장료/투어 (4인)', value: 400000, min: 200000, max: 1200000, step: 50000 },
            { label: '쇼핑/기타 (4인)', value: 800000, min: 400000, max: 4000000, step: 100000 },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            const dayTabsContainer = document.querySelector('#itinerary .flex');
            const itineraryDetailsContainer = document.getElementById('itinerary-details');

            const setActiveTab = (targetId) => {
                navButtons.forEach(button => {
                    button.classList.toggle('active', button.dataset.target === targetId);
                });
                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === targetId);
                });
            };

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    setActiveTab(button.dataset.target);
                });
            });

            const createWeatherChart = () => {
                const ctx = document.getElementById('weatherChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: weatherData.labels,
                        datasets: [
                            {
                                label: weatherData.london.label,
                                data: weatherData.london.data,
                                backgroundColor: weatherData.london.backgroundColor,
                                borderColor: weatherData.london.backgroundColor.replace('0.6', '1'),
                                borderWidth: 1
                            },
                            {
                                label: weatherData.paris.label,
                                data: weatherData.paris.data,
                                backgroundColor: weatherData.paris.backgroundColor,
                                borderColor: weatherData.paris.backgroundColor.replace('0.6', '1'),
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y + (context.label.includes('mm') ? 'mm' : '°C');
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            };
            
            const setupItinerary = () => {
                // Clear existing tabs before creating new ones
                dayTabsContainer.innerHTML = '';

                itineraryData.forEach(item => {
                    const tab = document.createElement('button');
                    tab.className = 'day-tab';
                    tab.dataset.day = item.day;
                    tab.innerHTML = `<span class="mr-2">${item.icon}</span> Day ${item.day}`;
                    dayTabsContainer.appendChild(tab);
                });

                const dayTabs = document.querySelectorAll('.day-tab');

                const showItineraryDetails = (day) => {
                    const data = itineraryData.find(item => item.day == day);
                    if (!data) return;

                    let detailsHtml = `<div class="card p-6 md:p-8 mx-auto max-w-4xl">
                        <h3 class="text-2xl font-bold mb-4">${data.icon} Day ${data.day}: ${data.title}</h3>`;
                    
                    data.details.forEach(detail => {
                        detailsHtml += `<div class="border-l-4 border-amber-500 pl-4 mb-4">
                            <p class="font-bold text-lg">${detail.time}: ${detail.title}</p>
                            <p class="text-gray-600">${detail.desc}</p>`;
                        
                        if (detail.food) {
                            detailsHtml += `<div class="mt-2 bg-amber-50 p-3 rounded-lg">
                                <p class="text-amber-800 text-sm">${detail.food}</p>
                            </div>`;
                        }

                        detailsHtml += `</div>`;
                    });

                    detailsHtml += `</div>`;
                    itineraryDetailsContainer.innerHTML = detailsHtml;

                    dayTabs.forEach(tab => {
                        tab.classList.toggle('active', tab.dataset.day == day);
                    });
                };

                dayTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        showItineraryDetails(tab.dataset.day);
                    });
                });
                
                // Show the first day by default
                if(itineraryData.length > 0) {
                    showItineraryDetails(itineraryData[0].day);
                }
            };

            let budgetChart;
            const budgetSlidersContainer = document.getElementById('budget-sliders');
            const totalBudgetElement = document.getElementById('total-budget');

            const formatCurrency = (amount) => {
                return new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' }).format(amount);
            };

            const updateTotalBudget = () => {
                const total = budgetData.reduce((sum, item) => sum + item.value, 0);
                totalBudgetElement.textContent = formatCurrency(total);
            };

            const updateBudgetChart = () => {
                budgetChart.data.datasets[0].data = budgetData.map(item => item.value);
                budgetChart.update();
            };

            const createBudgetChart = () => {
                const ctx = document.getElementById('budgetChart').getContext('2d');
                budgetChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: budgetData.map(item => item.label),
                        datasets: [{
                            data: budgetData.map(item => item.value),
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 206, 86, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(153, 102, 255, 0.7)',
                                'rgba(255, 159, 64, 0.7)'
                            ],
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                            },
                             tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += formatCurrency(context.parsed);
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            };

            const setupBudgetSliders = () => {
                budgetSlidersContainer.innerHTML = '';
                budgetData.forEach((item, index) => {
                    const sliderContainer = document.createElement('div');
                    sliderContainer.innerHTML = `
                        <div class="flex justify-between items-center mb-1">
                            <label for="budget-slider-${index}" class="font-medium">${item.label}</label>
                            <span id="budget-value-${index}" class="text-gray-700 font-semibold">${formatCurrency(item.value)}</span>
                        </div>
                        <input type="range" id="budget-slider-${index}" min="${item.min}" max="${item.max}" value="${item.value}" step="${item.step}" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    `;
                    budgetSlidersContainer.appendChild(sliderContainer);

                    const slider = document.getElementById(`budget-slider-${index}`);
                    const valueDisplay = document.getElementById(`budget-value-${index}`);

                    slider.addEventListener('input', () => {
                        const newValue = parseInt(slider.value);
                        budgetData[index].value = newValue;
                        valueDisplay.textContent = formatCurrency(newValue);
                        updateTotalBudget();
                        updateBudgetChart();
                    });
                });
            };
            
            createWeatherChart();
            setupItinerary();
            createBudgetChart();
            setupBudgetSliders();
            updateTotalBudget();
        });
    </script>
</body>
</html>

